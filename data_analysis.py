import numpy as np
import pandas as pd
import seaborn as sns
import matplotlib
import matplotlib.pyplot as plt
import binascii
import os
import warnings
from sklearn.manifold import TSNE

warnings.filterwarnings("ignore")
plt.rcParams['font.sans-serif'] = ['SimHei']  # 中文字体设置-黑体
plt.rcParams['axes.unicode_minus'] = False  # 解决保存图像是负号'-'显示为方块的问题

def get_family_num():
    label = pd.read_csv('raw_data/train_label.csv')
    total = len(label)*1
    ax = sns.countplot(x='family', data=label)

    # 设置坐标轴刻度文字的大小
    for p in ax.patches:
        ax.annotate('{:.1f}%'.format(100*p.get_height()/total), (p.get_x()+0.1, p.get_height()+5))


    ax.yaxis.set_ticks(np.linspace(0, total, 11))

    ax.set_yticklabels(map('{:.1f}%'.format, 100*ax.yaxis.get_majorticklocs()/total))
    plt.title("各家族样本数量分布图")
    plt.show()
